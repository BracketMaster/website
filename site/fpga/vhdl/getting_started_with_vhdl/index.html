<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="another hardware blog"><link href=https://yehowshuaimmanuel.com/fpga/vhdl/getting_started_with_vhdl/ rel=canonical><meta name=author content="Yehowshua Immanuel"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-4.6.3"><title>FOSS intro to VHDL - planet program</title><link rel=stylesheet href=../../../assets/stylesheets/application.8c7b2d21.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.6fba2f6a.css><meta name=theme-color content=#fb8c00><script src=../../../assets/javascripts/modernizr.eca31fed.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-144903341-1", "yehowshuaimmanuel.com")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=indigo> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#prologue tabindex=0 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://yehowshuaimmanuel.com/ title="planet program" aria-label="planet program" class="md-header-nav__button md-logo"> <i class=md-icon>videogame_asset</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> planet program </span> <span class=md-header-nav__topic> FOSS intro to VHDL </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> home </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> hardware hacking </a> </li> <li class=md-tabs__item> <a href=../../../mathematics/ellipsoid_indicatrix/ellipsoid_indicatrix/ class=md-tabs__link> mathematics </a> </li> <li class=md-tabs__item> <a href=../../../software_misc/custom_homebrew/cutsom_homebrew/ class=md-tabs__link> software/misc </a> </li> <li class=md-tabs__item> <a href=../../../Bible/Proverbs/14/ class=md-tabs__link> bible notes </a> </li> </ul> </div> </nav> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://yehowshuaimmanuel.com/ title="planet program" class="md-nav__button md-logo"> <i class=md-icon>videogame_asset</i> </a> planet program </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=home class=md-nav__link> home </a> </li> <li class=md-nav__item> <a href=../../../about/ title="about me" class=md-nav__link> about me </a> </li> <li class=md-nav__item> <a href=../../../my_setup/hardware/ title="hardware conf" class=md-nav__link> hardware conf </a> </li> <li class=md-nav__item> <a href=../../../my_setup/software/ title="software conf" class=md-nav__link> software conf </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5 checked> <label class=md-nav__link for=nav-5> hardware hacking </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> hardware hacking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ title="getting started" class=md-nav__link> getting started </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> FOSS intro to VHDL </label> <a href=./ title="FOSS intro to VHDL" class="md-nav__link md-nav__link--active"> FOSS intro to VHDL </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#prologue class=md-nav__link> Prologue </a> </li> <li class=md-nav__item> <a href=#first-steps class=md-nav__link> First Steps </a> </li> <li class=md-nav__item> <a href=#installing-ghdl class=md-nav__link> Installing GHDL </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ubuntu class=md-nav__link> Ubuntu </a> </li> <li class=md-nav__item> <a href=#macos class=md-nav__link> MacOS </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#simulating-with-ghdl class=md-nav__link> Simulating With GHDL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3 type=checkbox id=nav-5-3> <label class=md-nav__link for=nav-5-3> fpga fun </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-3> fpga fun </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../hdl_wars/ title="hdl wars" class=md-nav__link> hdl wars </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3-2 type=checkbox id=nav-5-3-2> <label class=md-nav__link for=nav-5-3-2> migen </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-3-2> migen </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../migen/why_migen/ title="why migen" class=md-nav__link> why migen </a> </li> <li class=md-nav__item> <a href=../../migen/ethernet_ecp5/ title="ethernet on ECP5" class=md-nav__link> ethernet on ECP5 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3-3 type=checkbox id=nav-5-3-3> <label class=md-nav__link for=nav-5-3-3> verilator </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-3-3> verilator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../verilator/why_verilator/ title="why verilator" class=md-nav__link> why verilator </a> </li> <li class=md-nav__item> <a href=../../verilator/some_notes_on_verilator/ title="some notes on verilator" class=md-nav__link> some notes on verilator </a> </li> <li class=md-nav__item> <a href=../../verilator/dpi/ title="verilator as a nMigen Python backend" class=md-nav__link> verilator as a nMigen Python backend </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> vintage tech projects </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-4> vintage tech projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Vintage_Tech/ title="hacking old tech" class=md-nav__link> hacking old tech </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4-2 type=checkbox id=nav-5-4-2> <label class=md-nav__link for=nav-5-4-2> my classic mac </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-4-2> my classic mac </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Vintage_Tech/My_Mac_SE/ title="acquisition and ideas" class=md-nav__link> acquisition and ideas </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4-3 type=checkbox id=nav-5-4-3> <label class=md-nav__link for=nav-5-4-3> gt retrotech </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-4-3> gt retrotech </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/my_setup/ title="my setup" class=md-nav__link> my setup </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/first_steps/ title="first steps" class=md-nav__link> first steps </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/la_inspection/ title="la bus inpection" class=md-nav__link> la bus inpection </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/why_an_fpga/ title="why an fpga?" class=md-nav__link> why an fpga? </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/crt_smoke_test/ title="crt smoke test" class=md-nav__link> crt smoke test </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/fpga_logic_analyzer/ title="fpga logic analyzer" class=md-nav__link> fpga logic analyzer </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> mathematics </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> mathematics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mathematics/ellipsoid_indicatrix/ellipsoid_indicatrix/ title="Ellipsoid with a=c minor Axis Intersection Invariant Proof Sketch" class=md-nav__link> Ellipsoid with a=c minor Axis Intersection Invariant Proof Sketch </a> </li> <li class=md-nav__item> <a href=../../../mathematics/cube_mesh/cube_mesh/ title="Describing 3d Meshes by Example: Python+JS" class=md-nav__link> Describing 3d Meshes by Example: Python+JS </a> </li> <li class=md-nav__item> <a href=../../../mathematics/elliptically_polarized_efield/efield/ title="elliptically polarized electric field" class=md-nav__link> elliptically polarized electric field </a> </li> <li class=md-nav__item> <a href=../../../mathematics/loss_function_gradient_derivation/ title="loss function gradient derivation" class=md-nav__link> loss function gradient derivation </a> </li> <li class=md-nav__item> <a href=../../../mathematics/EMAG_HW3/EMAG_HW3/ title="goodbye matlab, hello python with emag examples" class=md-nav__link> goodbye matlab, hello python with emag examples </a> </li> <li class=md-nav__item> <a href=../../../mathematics/matlabs_very_real_problems/ title="Matlab's very real problems" class=md-nav__link> Matlab's very real problems </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> software/misc </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> software/misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../software_misc/custom_homebrew/cutsom_homebrew/ title="rolling your own homebrew tap and bottle" class=md-nav__link> rolling your own homebrew tap and bottle </a> </li> <li class=md-nav__item> <a href=../../../software_misc/intro/ title="looking to the future" class=md-nav__link> looking to the future </a> </li> <li class=md-nav__item> <a href=../../../software_misc/on_open_source/ title="thoughts on open source" class=md-nav__link> thoughts on open source </a> </li> <li class=md-nav__item> <a href=../../../software_misc/things_to_learn/ title="things to learn" class=md-nav__link> things to learn </a> </li> <li class=md-nav__item> <a href=../../../software_misc/good_blogs/ title="good blogs" class=md-nav__link> good blogs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> bible notes </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> bible notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-1 type=checkbox id=nav-8-1> <label class=md-nav__link for=nav-8-1> Proverbs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-1> Proverbs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Proverbs/14/ title="Chapter 14" class=md-nav__link> Chapter 14 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-2 type=checkbox id=nav-8-2> <label class=md-nav__link for=nav-8-2> Ezekiel </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-2> Ezekiel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Ezekiel/3/ title="Chapter 3" class=md-nav__link> Chapter 3 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Ezekiel/13/ title="Chapter 13" class=md-nav__link> Chapter 13 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-3 type=checkbox id=nav-8-3> <label class=md-nav__link for=nav-8-3> Matthew </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-3> Matthew </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Matthew/4/ title="Chapter 4" class=md-nav__link> Chapter 4 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Matthew/13/ title="Chapter 13" class=md-nav__link> Chapter 13 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-4 type=checkbox id=nav-8-4> <label class=md-nav__link for=nav-8-4> John </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-4> John </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/John/15/ title="Chapter 15" class=md-nav__link> Chapter 15 </a> </li> <li class=md-nav__item> <a href=../../../Bible/John/17/ title="Chapter 17" class=md-nav__link> Chapter 17 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-5 type=checkbox id=nav-8-5> <label class=md-nav__link for=nav-8-5> Romans </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-5> Romans </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Romans/1/ title="Chapter 1" class=md-nav__link> Chapter 1 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Romans/3/ title="Chapter 3" class=md-nav__link> Chapter 3 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Romans/4/ title="Chapter 4" class=md-nav__link> Chapter 4 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Romans/6/ title="Chapter 6" class=md-nav__link> Chapter 6 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-6 type=checkbox id=nav-8-6> <label class=md-nav__link for=nav-8-6> Peter </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-6> Peter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Peter/1/ title="Chapter 1" class=md-nav__link> Chapter 1 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Peter/5/ title="Chapter 5" class=md-nav__link> Chapter 5 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-7 type=checkbox id=nav-8-7> <label class=md-nav__link for=nav-8-7> 2 Peter </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-7> 2 Peter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/2_Peter/2/ title="Chapter 2" class=md-nav__link> Chapter 2 </a> </li> <li class=md-nav__item> <a href=../../../Bible/2_Peter/3/ title="Chapter 3" class=md-nav__link> Chapter 3 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-8 type=checkbox id=nav-8-8> <label class=md-nav__link for=nav-8-8> Revelation </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-8> Revelation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Revelation/5/ title="Chapter 1" class=md-nav__link> Chapter 1 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#prologue class=md-nav__link> Prologue </a> </li> <li class=md-nav__item> <a href=#first-steps class=md-nav__link> First Steps </a> </li> <li class=md-nav__item> <a href=#installing-ghdl class=md-nav__link> Installing GHDL </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ubuntu class=md-nav__link> Ubuntu </a> </li> <li class=md-nav__item> <a href=#macos class=md-nav__link> MacOS </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#simulating-with-ghdl class=md-nav__link> Simulating With GHDL </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>FOSS intro to VHDL</h1> <h2 id=prologue>Prologue<a class=headerlink href=#prologue title="Permanent link">&para;</a></h2> <p>Unless you absolutely have to, generally, verilog is the preferred language by both hobbyists and those in industry alike. More info on that <a href=../../hdl_wars/ >here</a>.</p> <p>This tutorial will teach you how to simulate a VHDL design I wrote that displays images on a MacSE screen. You will also be able verify the design works using a VHDL testbench, and preview the image results in Python.</p> <h2 id=first-steps>First Steps<a class=headerlink href=#first-steps title="Permanent link">&para;</a></h2> <p>A Hardware Description Language(HDL) is purely that. It merely describes hardware. There are a couple types of HDLs, digital and mixed(digital+analog). This tutorial deals with digital HDLs.</p> <p>HDLs aren't very useful by themselves. Typically, they might be passed to a synthesizer which reduces the HDL into a gate list with that describes all the connections between various gates more commonly known as a netlist.</p> <p>There are different kinds of synthesizers. Some synthesizer frameworks target FPGAs while others target physical fabrication or VLSI. In VLSI, HDL is just the first step in a long laborious sequence of tasks.</p> <p>After writing some HDL, you may wish to know whether or not it does what you want. This can be accomplished using an HDL simulator. Currently, the only Free and Open Source(FOSS) simulator being maintained is [GHDL].</p> <h2 id=installing-ghdl>Installing GHDL<a class=headerlink href=#installing-ghdl title="Permanent link">&para;</a></h2> <h3 id=ubuntu>Ubuntu<a class=headerlink href=#ubuntu title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code>sudo apt update
sudo apt install build-essential gnat git llvm clang zlib1g-dev
mkdir -p ~/src<span class=p>;</span> <span class=nb>cd</span> ~/src
git clone https://github.com/ghdl/ghdl
<span class=nb>cd</span> ghdl
mkdir build<span class=p>;</span> <span class=nb>cd</span> build
../configure --with-llvm-config --prefix<span class=o>=</span>/usr/local
make -j8
make install
</code></pre></div> <h3 id=macos>MacOS<a class=headerlink href=#macos title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code>mkdir -p ~/src<span class=p>;</span> <span class=nb>cd</span> ~/src
wget https://github.com/ghdl/ghdl/releases/download/v0.36/ghdl-0.36-macosx-llvm.tgz
mkdir -p ghdl
tar -C ghdl -xf ghdl-0.36-macosx-llvm.tgz
rm ghdl-0.36-macosx-llvm.tgz
<span class=nb>cd</span> ghdl/bin
<span class=nb>echo</span> <span class=s2>&quot;export PATH=\&quot;`pwd`:\$PATH\&quot;&quot;</span> &gt;&gt; ~/.bash_profile
</code></pre></div> <p><img alt="gtkwave waveform" src=../gtkwave.png></p> <p>My workflow consists of this, - Invoke Make - Refresh Waveform in GTKWave</p> <p>All this can be done in a quarter of a second for modest designs such as a pipeline CPU - also nice is that a properly written makefile only requires GHDL to re-evaluate changed components.</p> <p>Here is the source on GitHub <a href=https://github.com/BracketMaster/quick-ghdl-toolchain>https://github.com/BracketMaster/quick-ghdl-toolchain</a></p> <h2 id=simulating-with-ghdl>Simulating With GHDL<a class=headerlink href=#simulating-with-ghdl title="Permanent link">&para;</a></h2> <p>You will probably want a makefile to automate your simulations. One is provided below.</p> <p>Literally name your makefile "makefile". No extension necessary. This should be placed in the same directory that contains all the vhdl source.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=nv>TIME</span><span class=o>=</span>500ns
<span class=nv>GHDL</span> <span class=o>=</span> ghdl
<span class=nv>GHDL_SIM_OPT</span> <span class=o>=</span> --stop-time<span class=o>=</span><span class=k>$(</span>TIME<span class=k>)</span>
<span class=nv>GHDL_FLAGS</span> <span class=o>=</span> --ieee<span class=o>=</span>synopsys -fexplicit
<span class=nv>WORKDIR</span> <span class=o>=</span> Simulate
<span class=nv>TOP_ENTITY</span> <span class=o>=</span> spim_pipe
<span class=nv>echoPath</span> <span class=o>=</span> .bash_profile

<span class=nf>.PHONY </span><span class=o>:</span> <span class=n>all</span> <span class=n>compile</span> <span class=n>run</span>
<span class=nf>all </span><span class=o>:</span> ./<span class=n>Simulate</span> <span class=n>compile</span> <span class=n>run</span>

<span class=nf>./Simulate </span><span class=o>:</span>
    mkdir -p <span class=k>$(</span>WORKDIR<span class=k>)</span>
    <span class=k>$(</span>GHDL<span class=k>)</span> -i --workdir<span class=o>=</span><span class=k>$(</span>WORKDIR<span class=k>)</span> *.vhd

<span class=nf>compile </span><span class=o>:</span>
    <span class=k>$(</span>GHDL<span class=k>)</span> -m <span class=k>$(</span>GHDL_FLAGS<span class=k>)</span> --workdir<span class=o>=</span><span class=k>$(</span>WORKDIR<span class=k>)</span>/ <span class=k>$(</span>TOP_ENTITY<span class=k>)</span>

<span class=nf>run </span><span class=o>:</span>
    <span class=k>$(</span>GHDL<span class=k>)</span> -r --workdir<span class=o>=</span><span class=k>$(</span>WORKDIR<span class=k>)</span> <span class=k>$(</span>TOP_ENTITY<span class=k>)</span> --ieee-asserts<span class=o>=</span>disable --stop-time<span class=o>=</span><span class=k>$(</span>TIME<span class=k>)</span> --wave<span class=o>=</span><span class=k>$(</span>TOP_ENTITY<span class=k>)</span>.ghw --vcd<span class=o>=</span><span class=k>$(</span>TOP_ENTITY<span class=k>)</span>.vcd

<span class=nf>clean </span><span class=o>:</span>
    rm -rf Simulate
    rm -f <span class=k>$(</span>TOP_ENTITY<span class=k>)</span>.ghw
    rm -f <span class=k>$(</span>TOP_ENTITY<span class=k>)</span>.vcd
    rm -f e~<span class=k>$(</span>TOP_ENTITY<span class=k>)</span>.o

<span class=nf>install-OSX </span><span class=o>:</span>
    tar -xzvf ./gtkwave.app.tar
    sudo cp -rf ./gtkwave.app /Applications/
    mkdir -p ~/sources
    tar -xzvf ./GHDL.tar
    cp -rf ./GHDL ~/sources
    <span class=nb>printf</span> <span class=s2>&quot;export PATH=\&quot;</span><span class=nv>$$</span><span class=s2>(echo ~)/sources/GHDL/bin/:\$</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}</span><span class=s2>\&quot;\n&quot;</span> &gt;&gt; ~/<span class=k>$(</span>echoPath<span class=k>)</span>
    <span class=nb>source</span> ~/.bash_profile

<span class=nf>test </span><span class=o>:</span>
    <span class=nb>printf</span> <span class=s2>&quot;export PATH=\&quot;</span><span class=nv>$$</span><span class=s2>(echo ~)/sources/GHDL/bin/:\$</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}</span><span class=s2>\&quot;\n&quot;</span> &gt;&gt; ~/<span class=k>$(</span>echoPath<span class=k>)</span>
</code></pre></div> </td></tr></table> <p>Software like Modelsim gives you the option to force a signal high and low as a clock and to hold the reset at the beginning of the simulation. Providing inputs to your HDL model is called a testbench. You may need to write a testbench for your code, if one hasn't been provided already.</p> <p>To determine whether or not your codeset may already have a testbench, you can perform a recursive search over all your vhdl files in the terminal for the ''after'' vhdl keyword which is usually only included is tesbenches because it instructs the simulator to toggle the input after a certain amount of time.</p> <ul> <li>Change into the directory containing the vhdl source</li> <li>''grep -R "after" ./''</li> </ul> <p>You should see some results perhaps like this.</p> <div class=codehilite><pre><span></span><code><span class=err>[macbookPro PS_SPIM_base Original]$ grep -R &quot;after&quot; ./ </span>
<span class=err>.//ps_clock.vhd:          sys_clock &lt;= &#39;0&#39;, &#39;1&#39; after 50 ns;</span>
<span class=err>.//ps_clock.vhd:reset &lt;= &#39;1&#39;, &#39;0&#39; after 75 ns;</span>
<span class=err>Binary file .//spim_pipe matches</span>
</code></pre></div> <p>In this case, the file ''ps_clock.vhd'' is the testbench.</p> <p>If you are missing a testbench, an example testbench is provided below.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>LIBRARY</span> <span class=n>IEEE</span><span class=p>;</span>
<span class=n>USE</span> <span class=n>IEEE</span><span class=p>.</span><span class=n>STD_LOGIC_1164</span><span class=p>.</span><span class=n>ALL</span><span class=p>;</span>
<span class=n>USE</span> <span class=n>IEEE</span><span class=p>.</span><span class=n>STD_LOGIC_ARITH</span><span class=p>.</span><span class=n>ALL</span><span class=p>;</span>
<span class=n>USE</span> <span class=n>IEEE</span><span class=p>.</span><span class=n>STD_LOGIC_UNSIGNED</span><span class=p>.</span><span class=n>ALL</span><span class=p>;</span>
<span class=n>use</span> <span class=n>std</span><span class=p>.</span><span class=n>textio</span><span class=p>.</span><span class=n>all</span><span class=p>;</span>

<span class=n>entity</span> <span class=n>my_clock</span> <span class=n>is</span>
<span class=n>port</span> <span class=p>(</span> <span class=n>signal</span> <span class=n>sys_clock</span><span class=p>,</span> <span class=n>reset</span> <span class=o>:</span> <span class=n>out</span> <span class=n>std_logic</span><span class=p>);</span>
<span class=k>end</span> <span class=n>entity</span> <span class=n>my_clock</span><span class=p>;</span>

<span class=n>architecture</span> <span class=n>behavior</span> <span class=n>of</span> <span class=n>my_clock</span> <span class=n>is</span> 
<span class=k>begin</span>
    <span class=n>process</span>
        <span class=k>begin</span>
        <span class=o>--</span> <span class=k>generate</span> <span class=n>clock</span>
          <span class=n>sys_clock</span> <span class=o>&lt;=</span> <span class=sc>&#39;0&#39;</span><span class=p>,</span> <span class=sc>&#39;1&#39;</span> <span class=n>after</span> <span class=mh>50</span> <span class=n>ns</span><span class=p>;</span>
          <span class=k>wait</span> <span class=k>for</span> <span class=mh>100</span> <span class=n>ns</span><span class=p>;</span>
         <span class=k>end</span> <span class=n>process</span><span class=p>;</span> 
         <span class=o>--</span> <span class=n>following</span> <span class=n>statement</span> <span class=n>executes</span> <span class=n>only</span> <span class=n>once</span>
<span class=n>reset</span> <span class=o>&lt;=</span> <span class=sc>&#39;1&#39;</span><span class=p>,</span> <span class=sc>&#39;0&#39;</span> <span class=n>after</span> <span class=mh>75</span> <span class=n>ns</span><span class=p>;</span>
<span class=k>end</span> <span class=n>architecture</span> <span class=n>behavior</span><span class=p>;</span>
</code></pre></div> </td></tr></table> <p>Finally change into the directory of your makefile and in the terminal and type ''make''. You might see something like this once GDHL compiles for the first time</p> <p><img alt=terminal src=../invoke_make_for_gtkwave.png></p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../ title="getting started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> getting started </span> </div> </a> <a href=../../hdl_wars/ title="hdl wars" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> hdl wars </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2020 Yehowshua Immanuel </div> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/BracketMaster target=_blank rel=noopener title=github-alt class="md-footer-social__link fa fa-github-alt"></a> <a href=https://www.linkedin.com/in/yehowshua-immanuel/ target=_blank rel=noopener title=linkedin class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.8e081faa.js></script> <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>