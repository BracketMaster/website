<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="another hardware blog"><link href=https://yehowshuaimmanuel.com/software_misc/custom_homebrew/cutsom_homebrew/ rel=canonical><meta name=author content="Yehowshua Immanuel"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-4.6.3"><title>Custom Tap and Bottles with Homebrew</title><link rel=stylesheet href=../../../assets/stylesheets/application.8c7b2d21.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.6fba2f6a.css><meta name=theme-color content=#fb8c00><script src=../../../assets/javascripts/modernizr.eca31fed.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-144903341-1", "yehowshuaimmanuel.com")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=indigo> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#some-terminology-and-background tabindex=0 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://yehowshuaimmanuel.com/ title="planet program" aria-label="planet program" class="md-header-nav__button md-logo"> <i class=md-icon>videogame_asset</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> planet program </span> <span class=md-header-nav__topic> Custom Tap and Bottles with Homebrew </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> home </a> </li> <li class=md-tabs__item> <a href=../../../fpga/ class=md-tabs__link> hardware hacking </a> </li> <li class=md-tabs__item> <a href=../../../mathematics/ellipsoid_indicatrix/ellipsoid_indicatrix/ class=md-tabs__link> mathematics </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> software/misc </a> </li> <li class=md-tabs__item> <a href=../../../Bible/Proverbs/14/ class=md-tabs__link> bible notes </a> </li> </ul> </div> </nav> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://yehowshuaimmanuel.com/ title="planet program" class="md-nav__button md-logo"> <i class=md-icon>videogame_asset</i> </a> planet program </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=home class=md-nav__link> home </a> </li> <li class=md-nav__item> <a href=../../../about/ title="about me" class=md-nav__link> about me </a> </li> <li class=md-nav__item> <a href=../../../my_setup/hardware/ title="hardware conf" class=md-nav__link> hardware conf </a> </li> <li class=md-nav__item> <a href=../../../my_setup/software/ title="software conf" class=md-nav__link> software conf </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> hardware hacking </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> hardware hacking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../fpga/ title="getting started" class=md-nav__link> getting started </a> </li> <li class=md-nav__item> <a href=../../../fpga/vhdl/getting_started_with_vhdl/ title="FOSS intro to VHDL" class=md-nav__link> FOSS intro to VHDL </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3 type=checkbox id=nav-5-3> <label class=md-nav__link for=nav-5-3> fpga fun </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-3> fpga fun </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../fpga/hdl_wars/ title="hdl wars" class=md-nav__link> hdl wars </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3-2 type=checkbox id=nav-5-3-2> <label class=md-nav__link for=nav-5-3-2> migen </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-3-2> migen </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../fpga/migen/why_migen/ title="why migen" class=md-nav__link> why migen </a> </li> <li class=md-nav__item> <a href=../../../fpga/migen/ethernet_ecp5/ title="ethernet on ECP5" class=md-nav__link> ethernet on ECP5 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3-3 type=checkbox id=nav-5-3-3> <label class=md-nav__link for=nav-5-3-3> verilator </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-3-3> verilator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../fpga/verilator/why_verilator/ title="why verilator" class=md-nav__link> why verilator </a> </li> <li class=md-nav__item> <a href=../../../fpga/verilator/some_notes_on_verilator/ title="some notes on verilator" class=md-nav__link> some notes on verilator </a> </li> <li class=md-nav__item> <a href=../../../fpga/verilator/dpi/ title="verilator as a nMigen Python backend" class=md-nav__link> verilator as a nMigen Python backend </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> vintage tech projects </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-4> vintage tech projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Vintage_Tech/ title="hacking old tech" class=md-nav__link> hacking old tech </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4-2 type=checkbox id=nav-5-4-2> <label class=md-nav__link for=nav-5-4-2> my classic mac </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-4-2> my classic mac </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Vintage_Tech/My_Mac_SE/ title="acquisition and ideas" class=md-nav__link> acquisition and ideas </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4-3 type=checkbox id=nav-5-4-3> <label class=md-nav__link for=nav-5-4-3> gt retrotech </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-4-3> gt retrotech </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/my_setup/ title="my setup" class=md-nav__link> my setup </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/first_steps/ title="first steps" class=md-nav__link> first steps </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/la_inspection/ title="la bus inpection" class=md-nav__link> la bus inpection </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/why_an_fpga/ title="why an fpga?" class=md-nav__link> why an fpga? </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/crt_smoke_test/ title="crt smoke test" class=md-nav__link> crt smoke test </a> </li> <li class=md-nav__item> <a href=../../../Vintage_Tech/retrotech/fpga_logic_analyzer/ title="fpga logic analyzer" class=md-nav__link> fpga logic analyzer </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> mathematics </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> mathematics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mathematics/ellipsoid_indicatrix/ellipsoid_indicatrix/ title="Ellipsoid with a=c minor Axis Intersection Invariant Proof Sketch" class=md-nav__link> Ellipsoid with a=c minor Axis Intersection Invariant Proof Sketch </a> </li> <li class=md-nav__item> <a href=../../../mathematics/cube_mesh/cube_mesh/ title="Describing 3d Meshes by Example: Python+JS" class=md-nav__link> Describing 3d Meshes by Example: Python+JS </a> </li> <li class=md-nav__item> <a href=../../../mathematics/elliptically_polarized_efield/efield/ title="elliptically polarized electric field" class=md-nav__link> elliptically polarized electric field </a> </li> <li class=md-nav__item> <a href=../../../mathematics/loss_function_gradient_derivation/ title="loss function gradient derivation" class=md-nav__link> loss function gradient derivation </a> </li> <li class=md-nav__item> <a href=../../../mathematics/EMAG_HW3/EMAG_HW3/ title="goodbye matlab, hello python with emag examples" class=md-nav__link> goodbye matlab, hello python with emag examples </a> </li> <li class=md-nav__item> <a href=../../../mathematics/matlabs_very_real_problems/ title="Matlab's very real problems" class=md-nav__link> Matlab's very real problems </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7 checked> <label class=md-nav__link for=nav-7> software/misc </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> software/misc </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> rolling your own homebrew tap and bottle </label> <a href=./ title="rolling your own homebrew tap and bottle" class="md-nav__link md-nav__link--active"> rolling your own homebrew tap and bottle </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#some-terminology-and-background class=md-nav__link> Some Terminology and Background </a> </li> <li class=md-nav__item> <a href=#why-make-a-homebrew-tap class=md-nav__link> Why Make a Homebrew Tap? </a> </li> <li class=md-nav__item> <a href=#making-a-tap-and-bottle class=md-nav__link> Making a Tap and Bottle </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../intro/ title="looking to the future" class=md-nav__link> looking to the future </a> </li> <li class=md-nav__item> <a href=../../on_open_source/ title="thoughts on open source" class=md-nav__link> thoughts on open source </a> </li> <li class=md-nav__item> <a href=../../things_to_learn/ title="things to learn" class=md-nav__link> things to learn </a> </li> <li class=md-nav__item> <a href=../../good_blogs/ title="good blogs" class=md-nav__link> good blogs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> bible notes </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> bible notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-1 type=checkbox id=nav-8-1> <label class=md-nav__link for=nav-8-1> Proverbs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-1> Proverbs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Proverbs/14/ title="Chapter 14" class=md-nav__link> Chapter 14 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-2 type=checkbox id=nav-8-2> <label class=md-nav__link for=nav-8-2> Ezekiel </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-2> Ezekiel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Ezekiel/3/ title="Chapter 3" class=md-nav__link> Chapter 3 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Ezekiel/13/ title="Chapter 13" class=md-nav__link> Chapter 13 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-3 type=checkbox id=nav-8-3> <label class=md-nav__link for=nav-8-3> Matthew </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-3> Matthew </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Matthew/4/ title="Chapter 4" class=md-nav__link> Chapter 4 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Matthew/13/ title="Chapter 13" class=md-nav__link> Chapter 13 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-4 type=checkbox id=nav-8-4> <label class=md-nav__link for=nav-8-4> John </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-4> John </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/John/15/ title="Chapter 15" class=md-nav__link> Chapter 15 </a> </li> <li class=md-nav__item> <a href=../../../Bible/John/17/ title="Chapter 17" class=md-nav__link> Chapter 17 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-5 type=checkbox id=nav-8-5> <label class=md-nav__link for=nav-8-5> Romans </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-5> Romans </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Romans/1/ title="Chapter 1" class=md-nav__link> Chapter 1 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Romans/3/ title="Chapter 3" class=md-nav__link> Chapter 3 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Romans/4/ title="Chapter 4" class=md-nav__link> Chapter 4 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Romans/6/ title="Chapter 6" class=md-nav__link> Chapter 6 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-6 type=checkbox id=nav-8-6> <label class=md-nav__link for=nav-8-6> Peter </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-6> Peter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Peter/1/ title="Chapter 1" class=md-nav__link> Chapter 1 </a> </li> <li class=md-nav__item> <a href=../../../Bible/Peter/5/ title="Chapter 5" class=md-nav__link> Chapter 5 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-7 type=checkbox id=nav-8-7> <label class=md-nav__link for=nav-8-7> 2 Peter </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-7> 2 Peter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/2_Peter/2/ title="Chapter 2" class=md-nav__link> Chapter 2 </a> </li> <li class=md-nav__item> <a href=../../../Bible/2_Peter/3/ title="Chapter 3" class=md-nav__link> Chapter 3 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-8 type=checkbox id=nav-8-8> <label class=md-nav__link for=nav-8-8> Revelation </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-8> Revelation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Bible/Revelation/5/ title="Chapter 1" class=md-nav__link> Chapter 1 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#some-terminology-and-background class=md-nav__link> Some Terminology and Background </a> </li> <li class=md-nav__item> <a href=#why-make-a-homebrew-tap class=md-nav__link> Why Make a Homebrew Tap? </a> </li> <li class=md-nav__item> <a href=#making-a-tap-and-bottle class=md-nav__link> Making a Tap and Bottle </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>rolling your own homebrew tap and bottle</h1> <h2 id=some-terminology-and-background>Some Terminology and Background<a class=headerlink href=#some-terminology-and-background title="Permanent link">&para;</a></h2> <p>Homebrew is a fantastic package manager written in ruby. A package in Homebrew is built with a formula, and all formula-based packages can be and must be capable of being built from source<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup>. Since many FOSS projects use git these days, you can even specify the git repository and how to build from it in the homebrew formula.</p> <p>For example:</p> <div class=codehilite><pre><span></span><code>$ brew install --HEAD gcc
</code></pre></div> <p>would git clone the latest gcc sources and build gcc using the formula provided in Homebrew.</p> <p>Homebrew is also very flexible and secure as it doesn't need root privileges for its packages.</p> <p>Homebrew can turn a build into a re-distributable <strong>Bottle</strong>. Homebrew works on both Linux and Mac and hosts its core repository at <a href=https://github.com/Homebrew/homebrew-core>https://github.com/Homebrew/homebrew-core</a>.</p> <p>Lastly, Homebrew has taps which are third party formula repositories that a user can install from.</p> <h2 id=why-make-a-homebrew-tap>Why Make a Homebrew Tap?<a class=headerlink href=#why-make-a-homebrew-tap title="Permanent link">&para;</a></h2> <p>Recently, Bluespec open sourced their BlueSpec Verilog Compiler(bsc) <sup id=fnref:2><a class=footnote-ref href=#fn:2>2</a></sup>. I wanted to build a homebrew formula and submit it to homebrew-core. Homebrew has strict requirements for formula they accept to homebrew-core.</p> <p>The one that got me in trouble is:</p> <blockquote> <p>If the source for the software to be built is hosted on GitHub, a canonical <sup id=fnref:3><a class=footnote-ref href=#fn:3>3</a></sup> versioned/git-tagged Github release tarball must be used as the source for the build of the formula.</p> </blockquote> <p>Basically, as of the time of the writing of this article, the BSC maintainers do not have a Github release.</p> <p>If I can't contribute a formula to homebrew core, I can still create my own tap.</p> <h2 id=making-a-tap-and-bottle>Making a Tap and Bottle<a class=headerlink href=#making-a-tap-and-bottle title="Permanent link">&para;</a></h2> <p>I created my own tap at <a href=https://github.com/BracketMaster/homebrew-rtl>bracketmaster/homebrew-rtl</a> which contains some formulas for building FOSS RTL and FPGA tools such as NextPnr and bsc.</p> <p>To install these formulas, I do:</p> <div class=codehilite><pre><span></span><code>$ brew tap bracketmaster/rtl
$ brew install <span class=nv>bsc</span>
<span class=o>==</span>&gt; Installing bsc from bracketmaster/rtl
<span class=o>==</span>&gt; Downloading https://github.com/BracketMaster/homebrew-rtl/releases/download/
<span class=o>==</span>&gt; Downloading from https://github-production-release-asset-2e65be.s3.amazonaws
<span class=c1>######################################################################## 100.0%</span>
<span class=o>==</span>&gt; Pouring bsc-2017.07.A.catalina.bottle.tar.gz
🍺  /usr/local/Cellar/bsc/2017.07.A: <span class=m>334</span> files, <span class=m>137</span>.1MB
</code></pre></div> <p>You may notice that homebrew poured bottles instead of building bsc from source. You may also notice the bottles are hosted using <a href=https://github.com/BracketMaster/homebrew-rtl/releases>Github Releases</a>.</p> <p>Basically, I created a versioned release on Github with all the tarred sources for various formulas<sup id=fnref:4><a class=footnote-ref href=#fn:4>4</a></sup> I also uploaded the bottles brew generated when building my formulas the first go round.</p> <p>Generating your first brew bottle is easy. For example wit NextPnr:</p> <div class=codehilite><pre><span></span><code>$ brew install --build-bottle nextpnr
$ brew bottle --root-url=&quot;https://github.com/BracketMaster/homebrew-rtl/releases/download/v1.0&quot; --no-rebuild nextpnr

  bottle do
    root_url &quot;https://github.com/BracketMaster/homebrew-rtl/releases/download/v1.0&quot;
    cellar :any
    sha256 &quot;779cbbee58781c95459c155c6a574267f8d9d9817779252f13defef51d01a4f2&quot; =&gt; :catalina
  end
</code></pre></div> <p>Where <code class=codehilite><span class=err>root-url</span></code> is the Github Releases url you plan to upload the bottle to.</p> <p>You should see a file in your current directory that looks something along the lines of <code class=codehilite><span class=err>nextpnr-1.0.catalina.bottle.tar.gz</span></code>.</p> <p>Go ahead and upload that to your Github Releases and paste the <code class=codehilite><span class=err>bottle do/end</span></code> stanza into your homebrew ruby formula.</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p>I specify formula-based packages because Hombrew also supports the installation of Casks which in MacOS are MacOS native "apps" that end in <code class=codehilite><span class=na>.app</span></code> such as <code class=codehilite><span class=err>Chrome.app</span></code>.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> <li id=fn:2> <p>Anounced <a href=https://bluespec.com/2020/01/06/bluespec-inc-to-open-source-its-proven-bsv-high-level-hdl-tools/ >here</a> to be open sourced on January 31, 2020. Interestingly enough, at the time of the writing of this article, <a href=https://bluespec.com>https://bluespec.com</a> still does not have a link on their website pointing to the source code location. But, after scouring around on the internet, <a href=https://www.reddit.com/r/FPGA/comments/el26iv/bluespec_inc_to_open_source_its_proven_bsv/ >this Reddit post</a> notes that the source is located <a href=https://github.com/B-Lang-org/bsc>here</a>.&#160;<a class=footnote-backref href=#fnref:2 title="Jump back to footnote 2 in the text">&#8617;</a></p> </li> <li id=fn:3> <p>Canonical basically means that the Github Repo is not a fork.&#160;<a class=footnote-backref href=#fnref:3 title="Jump back to footnote 3 in the text">&#8617;</a></p> </li> <li id=fn:4> <p>Worth noting that as of this writing, Github does provide a URL API that allows you to download a repository as a tar. But the provided tarball doesn't contain submodules or the <code class=codehilite><span class=na>.git</span></code> which is a problem for software that builds version info from the git commit. Also worth noting that Github releases also use this same URL API.&#160;<a class=footnote-backref href=#fnref:4 title="Jump back to footnote 4 in the text">&#8617;</a></p> </li> </ol> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../../mathematics/matlabs_very_real_problems/ title="Matlab's very real problems" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Matlab's very real problems </span> </div> </a> <a href=../../intro/ title="looking to the future" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> looking to the future </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2020 Yehowshua Immanuel </div> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/BracketMaster target=_blank rel=noopener title=github-alt class="md-footer-social__link fa fa-github-alt"></a> <a href=https://www.linkedin.com/in/yehowshua-immanuel/ target=_blank rel=noopener title=linkedin class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.8e081faa.js></script> <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>